{% extends "core/base.html" %}
{% block title %}Gerenciar Permissões{% endblock %}

{% block content %}
<h1>Permissões de {{ usuario.username }}</h1>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Grupo</th>
      <th>Permissões</th>
      <th>Ações</th>
    </tr>
  </thead>
  <tbody>
    {% for grupo in grupos %}
      <tr>
        <td>{{ grupo.name }}</td>
        <td>
          {% for p in grupo.permissions.all %}
            <span class="badge bg-secondary">{{ p.codename }}</span>
          {% empty %}
            <span class="text-muted">Sem permissões</span>
          {% endfor %}
        </td>
        <td>
          <a href="{% url 'controle_acesso:editar_grupo' grupo.id %}" class="btn btn-sm btn-primary">Editar</a>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="3">Nenhum grupo cadastrado.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
